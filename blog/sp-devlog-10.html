<html>
    <head>
	<title>Spooky Pooky #10 - Map Building</title>
        <link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
    	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" />
        <link rel="stylesheet" type="text/css" href="main.css" />
        <style type="text/css">
            .logo {
                width: 100px;
            }
        </style>
    </head>
    <body>
        <div class="main">
            
            <div class="post-header">
                <div class="banner">
                    <img src="images/spdevlog.png" />
                </div>
            </div>

	    <div class="nav">
	        <a href="index.html">Home</a>
	    </div>

        <div class="post">
            <div class="title">
                <h1>Spooky Pooky #10 - Map Building</h1>
                <p class="strapline">How I use Tiled to build rooms.
</p>
                <p class="publish">Published on <span class="date">04 Oct 2014</span> by Joe</p>
            </div>
            
            <p>Given that this is supposed to be a dev log there's not been much about the actual dev; so I thought I'd stick some notes down about how I'm designing levels.</p>
<p>I'm using the <a href="http://www.mapeditor.org/">Tiled Map Editor</a> to create levels which is a wonderfully flexible tool.</p>
<p>Below are a couple of screenshots - the first shows a tile layer containing the actual scenery tiles:</p>
<p><img alt="" src="images/2vvg4IO.png" /></p>
<p>The second is an object layer:</p>
<p><img alt="" src="images/IyjG4Vs.png" /></p>
<p>In the second you can see some boxes which are used to outline blocks of tiles in the layer below that should be separated from the main layer and turned into an independent entity.</p>
<p>I then use properties on these rectangle objects to define various flags as to how the object behave - e.g. fixed in space, affected by gravity. Additionally they can be any entities can be programmed to follow paths. This is done by drawing a path using as a polyline object and relating the two together by name using a 'path' property on the parent object.</p>
<p>I use a similar approach to associate buttons (which are just tile objects) with, for example, a laser forcefield, or with a block entity.</p>
<p>I use a third layer for liquid which I indicate using a simple tile. In the game I use the presence of this tile to set flags on the underlying tiles to indicate they are in water. I render the water using two passes - one to render the water using a simple shader (the water can be at any level) into a framebuffer and another to compose it with the background to add the wibble shader effects.</p>
<p>It's a pretty flexible system - I can also tell entities (i.e. Tiled objects) that they 'belong' to a section of scenery by specifying it's name as a 'ground' property.</p>
<p>Overall I'm pretty impressed by Tiled as I had assumed that I'd end up writing some kind of proprietary format or tool - so far it's not been necessary.</p>
        </div>

        <div class="publish">Published on <span class="date">04 Oct 2014</span> by Joe</div>
	    <div><a href="index.html"><i class="fa fa-chevron-left"></i> Back to index</a></div>

	    <div class="links">
		<p>
		Interested in finding out more about <strong>Spooky Pooky</strong>?
		</p>
                <ul>
                 <li><i class="fa fa-envelope"></i> <a href="http://eepurl.com/bcNbXr">Sign up for <strong>news and updates</strong></a></li>
                 <li><i class="fa fa-twitter"></i> <a href="https://twitter.com/joeyspacerocks">Talk to me <strong>@joeyspacerocks</strong></a></li>
                 <li><i class="fa fa-desktop"></i> <a href="../spookypooky/index.html">Visit the main site</a></li>
                </ul>
	    </div>

            <div class="comments">
                <div id="disqus_thread"></div>
                <script type="text/javascript">
                    /* * * CONFIGURATION VARIABLES * * */
                    var disqus_shortname = 'fistfulofsquid';
                
                        /* * * DON'T EDIT BELOW THIS LINE * * */
                        (function() {
                         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                     </script>
                 <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
            </div>

        </div>

        <div class="footer">
            <div>
                <a href="../index.html">
                    <p><img class="logo" src="../logo.svg" /></p>
                    <h1>fistful of squid</h1>
                </a>
                <p><i class="fa fa-twitter"></i> Talk to me <a href="https://twitter.com/joeyspacerocks">@joeyspacerocks</a></p>
                <p class="copyright">&copy; copyright Joe Trewin 2015 - present</p>
            </div>
        </div>

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-59810066-1', 'auto');
          ga('send', 'pageview');

        </script>
    </body>
</html>
